<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Full Body ‚Ä¢ 4-–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è</title>
<style>
:root{--bg:#0b0b0e;--panel:#15161a;--panel2:#121317;--soft:#0e0f12;--border:#2b2f36;--text:#ffd700;--muted:#b9aa68;--white:#f4f4f4;--radius:18px}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--white);font-family:Inter,Segoe UI,Roboto,Arial,sans-serif}
header{position:sticky;top:0;z-index:20;background:linear-gradient(180deg,#0b0b0e,rgba(11,11,14,.92));border-bottom:1px solid var(--border);padding:12px 16px 6px}
.h1{margin:0;font-size:20px;font-weight:800}.sub{margin-top:6px;color:var(--muted);font-size:12px}
.controls{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
select,.tab{background:var(--panel2);color:var(--white);border:1px solid var(--border);border-radius:12px;padding:8px 12px;font-weight:800}
.tab.active{background:var(--text);color:#000;border-color:var(--text)}
main{padding:14px;display:grid;gap:14px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;box-shadow:0 10px 26px rgba(0,0,0,.25)}
.head{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 8px}
.left{display:flex;gap:10px;align-items:center}
.thumb{width:44px;height:44px;border-radius:12px;background:var(--soft);border:1px solid var(--border);display:grid;place-items:center}
.title{font-weight:800;font-size:16px}.meta{font-size:12px;color:var(--muted)}
.hint{font-size:12px;color:#aeb3bb;margin-top:4px}
.video{background:#000}.video iframe{width:100%;aspect-ratio:16/9;border:0;display:block}
.body{padding:14px;display:grid;gap:12px}.history{font-weight:700;color:#9aa0a6;font-size:13px}
.date{font-size:14px;margin-top:8px;margin-bottom:6px;color:#d0d0d0}
.sets{display:grid;gap:10px}
.row{display:grid;grid-template-columns:34px 1fr 1fr 100px 34px;gap:10px;align-items:center}
.badge{height:40px;border-radius:12px;border:1px solid var(--border);background:var(--soft);display:grid;place-items:center;color:var(--text);font-weight:800}
.input{display:flex;gap:6px;align-items:center;background:#101215;border:1px solid var(--border);border-radius:12px;padding:6px}
.input input, .input select{
  width:100%;
  background:#1c1c20;   /* –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ñ–æ–Ω –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
  border:1px solid #444;
  border-radius:8px;
  outline:none;
  color:#ffd700;         /* –∑–æ–ª–æ—Ç–æ–π —Ç–µ–∫—Å—Ç */
  font-size:18px;        /* –∫—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç */
  font-weight:700;
  text-align:center;
  padding:6px 8px;
  min-width:60px;
}
.suffix{color:var(--muted);font-size:12px;text-transform:uppercase}
.check{width:24px;height:24px;border-radius:8px;border:1px solid var(--border);display:grid;place-items:center;cursor:pointer}
.check input{appearance:none;width:18px;height:18px;border-radius:5px;background:#14161a;border:1px solid #2f3340}
.check input:checked{background:var(--text);border-color:var(--text)}
.actions{display:flex;gap:8px;flex-wrap:wrap}
.btn{border:1px solid var(--border);background:var(--panel2);color:#fff;border-radius:12px;padding:10px 14px;font-weight:800}
.btn.gold{background:var(--text);border-color:var(--text);color:#000}
.bar{position:sticky;bottom:0;z-index:15;background:linear-gradient(0deg,#0b0b0e,rgba(11,11,14,.92));border-top:1px solid var(--border);padding:12px 14px;display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.note{font-size:12px;color:var(--muted);text-align:center;margin:4px 0 12px}
.sum{font-weight:800;color:#ffd700}
.weeksum{font-weight:700;color:#c8b767;font-size:13px}
.tech{background:#0f1014;border-top:1px dashed var(--border);padding:10px 14px;display:none}
.tech p{margin:6px 0 0 0;color:#cfcfcf;font-size:13px;line-height:1.35}
.tech b{color:#ffd700}
.techBtn{border:1px dashed var(--border);background:#0f1014;color:#ffd700;border-radius:10px;padding:6px 10px;font-weight:800;font-size:12px}
.techWrap{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
</style>
</head>
<body>
<header>
  <div class="h1">Full Body ‚Äî –í–µ—Ä—Ö –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ</div>
  <div class="sub">3 –¥–Ω—è (–ó–∞–ª ‚Ä¢ –ó–∞–ª ‚Ä¢ –î–æ–º) ‚Ä¢ 4-–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è ‚Ä¢ –±–µ–∑ –æ—Å–µ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫</div>
  <div class="controls">
    <button class="tab active" data-day="1">–î–µ–Ω—å 1</button>
    <button class="tab" data-day="2">–î–µ–Ω—å 2</button>
    <button class="tab" data-day="3">–î–µ–Ω—å 3</button>
    <select id="weekSelect" title="–í—ã–±–µ—Ä–∏ –Ω–µ–¥–µ–ª—é">
      <option value="1">–ù–µ–¥–µ–ª—è 1 ‚Äî –≤—Ç—è–≥–∏–≤–∞—é—â–∞—è</option>
      <option value="2">–ù–µ–¥–µ–ª—è 2 ‚Äî –Ω–∞–≥—Ä—É–∑–æ—á–Ω–∞—è</option>
      <option value="3">–ù–µ–¥–µ–ª—è 3 ‚Äî –ø–∏–∫–æ–≤–∞—è</option>
      <option value="4">–ù–µ–¥–µ–ª—è 4 ‚Äî —Ä–∞–∑–≥—Ä—É–∑–∫–∞</option>
    </select>
  </div>
</header>
<main id="root"></main>
<div class="note">–ù–µ–¥–µ–ª–∏: RIR 1‚Äì2 ‚Üí 0‚Äì1 ‚Üí 0 (–ø–∏–∫) ‚Üí 2‚Äì3 (–¥–µ–ª–æ–∞–¥). –ù–µ–¥.2: +5%/ +1; –ù–µ–¥.3: +10%/ +1‚Äì2; –ù–µ–¥.4: ‚àí10‚Äì20% –∏ ‚àí1 –ø–æ–¥—Ö–æ–¥.</div>
<div class="bar">
  <div>
    <div class="sum" id="summary">–¢–æ–Ω–Ω–∞–∂: 0 –∫–≥ ‚Ä¢ –°–µ—Ç—ã (–≤—ã–ø.): 0</div>
    <div class="weeksum" id="weekSummary">–ò—Ç–æ–≥–æ –∑–∞ –Ω–µ–¥–µ–ª—é: 0 –∫–≥ ‚Ä¢ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–µ—Ç–æ–≤: 0</div>
  </div>
  <div>
    <button class="btn" id="clearBtn">–û—á–∏—Å—Ç–∏—Ç—å –¥–µ–Ω—å</button>
    <button class="btn gold" id="saveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </div>
</div>

<script>
/* ===== –ü–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–µ—Ö–Ω–∏–∫–∏ ===== */
const TECH = {
  "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª—ë–∂–∞":[
    "–õ–æ–ø–∞—Ç–∫–∏ —Å–≤–µ–¥–µ–Ω—ã, –≥—Ä—É–¥—å –≤–≤–µ—Ä—Ö, –ø—è—Ç–∫–∏ –ø—Ä–∏–∂–∞—Ç—ã.",
    "–•–≤–∞—Ç —á—É—Ç—å —à–∏—Ä–µ –ø–ª–µ—á; –ø—Ä–µ–¥–ø–ª–µ—á—å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã –≤–Ω–∏–∑—É.",
    "–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è ‚Äî –¥—É–≥–∞ –∫ –Ω–∏–∂–Ω–µ–º—É –∫—Ä–∞—é –≥—Ä—É–¥–∏.",
    "–û–ø—É—Å–∫–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ; –∫–∞—Å–∞–Ω–∏–µ –±–µ–∑ –æ—Ç—Å–∫–æ–∫–∞; –≤—ã–∂–∏–º –±–µ–∑ –º–æ—Å—Ç–∏–∫–∞."
  ],
  "–¢—è–≥–∞ –±–ª–æ–∫–∞ –∫ –ø–æ—è—Å—É":[
    "–°–ø–∏–Ω–∞ —Ä–æ–≤–Ω–∞—è, –ª—ë–≥–∫–∏–π –Ω–∞–∫–ª–æ–Ω, –≥—Ä—É–¥—å –≤–ø–µ—Ä—ë–¥.",
    "–¢—è–Ω–µ–º –ª–æ–∫—Ç—è–º–∏ –∫ —Ç–∞–∑—É, –∫–æ—Ä–ø—É—Å –Ω–µ –¥—ë—Ä–≥–∞—Ç—å.",
    "–í –∫–æ–Ω—Ü–µ ‚Äî —Å–≤–µ–¥–µ–Ω–∏–µ –ª–æ–ø–∞—Ç–æ–∫ –∏ –ø–∞—É–∑–∞ 0.5—Å."
  ],
  "–ñ–∏–º –Ω–æ–≥–∞–º–∏":[
    "–°—Ç–æ–ø—ã –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, –Ω–æ—Å–∫–∏ —Å–ª–µ–≥–∫–∞ –Ω–∞—Ä—É–∂—É.",
    "–ü–æ—è—Å–Ω–∏—Ü–∞ –ø—Ä–∏–∂–∞—Ç–∞, –Ω–µ –≤—ã–ø—Ä—è–º–ª—è–π –∫–æ–ª–µ–Ω–∏ ¬´–≤ –∑–∞–º–æ–∫¬ª.",
    "–ì–ª—É–±–∏–Ω–∞ ~90‚Äì110¬∞ –≤ –∫–æ–ª–µ–Ω–µ."
  ],
  "–ü–æ–¥—ä—ë–º —à—Ç–∞–Ω–≥–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å":[
    "–õ–æ–∫—Ç–∏ —É –∫–æ—Ä–ø—É—Å–∞, –ø–ª–µ—á–∏ –Ω–µ –¥–≤–∏–≥–∞–µ–º.",
    "–ü–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞; –±–µ–∑ —á–∏—Ç–∏–Ω–≥–∞; —Ç–µ–º–ø 2‚Äì0‚Äì1."
  ],
  "–ñ–∏–º –≤ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ –¥–ª—è –ø–ª–µ—á":[
    "–°–ø–∏–Ω–∞ –∏ —Ç–∞–∑ –ø—Ä–∏–∂–∞—Ç—ã; –ª–æ–∫—Ç–∏ –ø–æ–¥ –≥—Ä–∏—Ñ–æ–º.",
    "–†–∞–±–æ—á–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞ –±–µ–∑ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ—Å—Ç–∏."
  ],
  "–†–∞–∑–≥–∏–±–∞–Ω–∏–µ —Ç—Ä–∏—Ü–µ–ø—Å–∞ –≤ –±–ª–æ–∫–µ (–∫–∞–Ω–∞—Ç)":[
    "–õ–æ–∫—Ç–∏ —É –∫–æ—Ä–ø—É—Å–∞; –ø–ª–µ—á–æ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ.",
    "–í–Ω–∏–∑—É —Å–ª–µ–≥–∫–∞ —Ä–∞–∑–≤–µ–¥–∏ –∫–∞–Ω–∞—Ç—ã, –ø–∞—É–∑–∞ 0.5—Å."
  ],
  "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª—ë–∂–∞ –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω–æ–π 45¬∞":[
    "–õ–æ–ø–∞—Ç–∫–∏ —Å–≤–µ–¥–µ–Ω—ã; –∂–º–∏ –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏ –≤–≤–µ—Ä—Ö.",
    "–ö–∞—Å–∞–π—Å—è –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≥—Ä—É–¥–∏; –Ω–µ –∑–∞–ø–∏—Ä–∞–π –ª–æ–∫—Ç–∏."
  ],
  "–¢—è–≥–∞ –±–ª–æ–∫–∞ –æ–±—Ä–∞—Ç–Ω—ã–º —Ö–≤–∞—Ç–æ–º":[
    "–•–≤–∞—Ç –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á; –ª–æ–∫—Ç–∏ –≤–¥–æ–ª—å –∫–æ—Ä–ø—É—Å–∞.",
    "–§–æ–∫—É—Å –Ω–∞ –Ω–∏–∂–Ω–∏–µ —à–∏—Ä–æ—á–∞–π—à–∏–µ; —Å–≤–µ–¥–µ–Ω–∏–µ –ª–æ–ø–∞—Ç–æ–∫ –≤ –∫–æ–Ω—Ü–µ."
  ],
  "–†–∞–∑–≥–∏–±–∞–Ω–∏–µ –Ω–æ–≥ –≤ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ":[
    "–û—Å—å –∫–æ–ª–µ–Ω–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ—Å—å—é —Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞.",
    "–ü–∞—É–∑–∞ –≤–≤–µ—Ä—Ö—É; –≤–Ω–∏–∑ ‚Äî –ø–æ–¥–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ."
  ],
  "–°–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ –≤ –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–µ (–±–∏—Ü–µ–ø—Å)":[
    "–ü–ª–µ—á–∏ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã; —Å–≥–∏–±–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫—Ç–µ.",
    "–≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫–∞ 2‚Äì3—Å; –±–µ–∑ —Ä–∞—Å–∫–∞—á–∫–∏."
  ],
  "–†–∞–∑–≤–µ–¥–µ–Ω–∏—è –≥–∞–Ω—Ç–µ–ª–µ–π –≤ —Å—Ç–æ—Ä–æ–Ω—ã":[
    "–ú—è–≥–∫–∏–π —Å–≥–∏–± –ª–æ–∫—Ç—è; –ø–ª–µ—á–æ —Å–ª–µ–≥–∫–∞ –≤–ø–µ—Ä—ë–¥ –∏ –≤–Ω–∏–∑.",
    "–ù–µ –ø–æ–¥–Ω–∏–º–∞–π –≤—ã—à–µ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á; —Ç–µ–º–ø –ø–æ–¥–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π."
  ],
  "–û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö":[
    "–ö–æ—Ä–ø—É—Å –≤–ø–µ—Ä—ë–¥ (–≥—Ä—É–¥–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç) –∏–ª–∏ –±–ª–∏–∂–µ –∫ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (—Ç—Ä–∏—Ü–µ–ø—Å).",
    "–õ–æ–∫—Ç–∏ 45‚Äì60¬∞; –≥–ª—É–±–∏–Ω–∞ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è; –±–µ–∑ –±–æ–ª–∏ –≤ –ø–ª–µ—á–∞—Ö."
  ],
  "–û—Ç–∂–∏–º–∞–Ω–∏—è —Å –Ω–æ–≥–∞–º–∏ –Ω–∞ –≤–æ–∑–≤—ã—à–µ–Ω–∏–∏":[
    "–ö–æ—Ä–ø—É—Å –æ–¥–Ω–æ–π –ª–∏–Ω–∏–µ–π, –≤–∑–≥–ª—è–¥ –≤–Ω–∏–∑.",
    "–ö–∞—Å–∞–Ω–∏–µ –≥—Ä—É–¥—å—é/2—Å–º –¥–æ –ø–æ–ª–∞, –±–µ–∑ –ø—Ä–æ–≤–∞–ª–æ–≤ –≤ –ø–æ—è—Å–Ω–∏—Ü–µ."
  ],
  "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª—ë–∂–∞ –Ω–∞ –ø–æ–ª—É":[
    "–õ–æ–∫—Ç–∏ ~45¬∞ –∫ –∫–æ—Ä–ø—É—Å—É; –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –∑–∞–ø—è—Å—Ç—å—è.",
    "–ü–∞—É–∑–∞ –Ω–∞ –ø–æ–ª—É; –±–µ–∑ –æ—Ç—Å–∫–æ–∫–∞."
  ],
  "–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–µ–π –∫ –ø–æ—è—Å—É":[
    "–°–ø–∏–Ω–∞ —Ä–æ–≤–Ω–∞—è; –Ω–∞–∫–ª–æ–Ω –∏–∑ —Ç–∞–∑–∞.",
    "–¢—è–Ω–µ–º –ª–æ–∫—Ç—è–º–∏; –ø–∞—É–∑–∞ –≤ –ø–∏–∫-—Å–æ–∫—Ä–∞—â–µ–Ω–∏–∏."
  ],
  "–£–∑–∫–∏–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è":[
    "–õ–æ–∫—Ç–∏ –±–ª–∏–∑–∫–æ –∫ –∫–æ—Ä–ø—É—Å—É; –∫–∏—Å—Ç–∏ –ø–æ–¥ –ø–ª–µ—á–∞–º–∏.",
    "–ö–æ—Ä–ø—É—Å ‚Äî –ø—Ä—è–º–∞—è –ª–∏–Ω–∏—è; –±–µ–∑ –ø—Ä–æ–≤–∏—Å–∞ —Ç–∞–∑–∞."
  ],
  "–ü–æ–¥—ä—ë–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –±–∏—Ü–µ–ø—Å":[
    "–ë–µ–∑ —á–∏—Ç–∏–Ω–≥–∞; –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞.",
    "–ü–ª–µ—á–∏ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã."
  ],
  "–†–∞–∑–≤–µ–¥–µ–Ω–∏—è –≤ –Ω–∞–∫–ª–æ–Ω–µ":[
    "–ì—Ä—É–¥—å –∫ –±–µ–¥—Ä–∞–º, —Å–ø–∏–Ω–∞ —Ä–æ–≤–Ω–∞—è.",
    "–õ–æ–ø–∞—Ç–∫–∏ —Å–≤–æ–¥–∏–º –≤–≤–µ—Ä—Ö—É, –Ω–µ –¥—ë—Ä–≥–∞–π –∫–æ—Ä–ø—É—Å."
  ],
  "–ü–ª–∞–Ω–∫–∞ —Å –∫–∞—Å–∞–Ω–∏–µ–º –ø–ª–µ—á":[
    "–¢–∞–∑ –Ω–µ–π—Ç—Ä–∞–ª–µ–Ω, –∫–æ—Ä–ø—É—Å —Å—Ç–∞–±–∏–ª–µ–Ω.",
    "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏."
  ],
};

/* ===== –ü—Ä–æ–≥—Ä–∞–º–º–∞ (3 –¥–Ω—è) + RuTube IDs ===== */
const PROGRAM = {
  1:[
    {t:"–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª—ë–∂–∞", base:"4√ó8‚Äì10", sets:4, id:"29048ced12e2808a6097447cf00821fd"},
    {t:"–¢—è–≥–∞ –±–ª–æ–∫–∞ –∫ –ø–æ—è—Å—É", base:"4√ó8‚Äì10", sets:4, id:"e5f800727b6688c3ec31f62e48303cb0"},
    {t:"–ñ–∏–º –Ω–æ–≥–∞–º–∏", base:"4√ó8‚Äì10", sets:4, id:"6eb13cced1079f3c1c167ec187c0b324"},
    {t:"–ü–æ–¥—ä—ë–º —à—Ç–∞–Ω–≥–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å", base:"3√ó12‚Äì16", sets:3, id:"9e19a98a96bf0fa3ed85b3d0b3e02a9d"},
    {t:"–ñ–∏–º –≤ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ –¥–ª—è –ø–ª–µ—á", base:"3√ó12‚Äì16", sets:3, id:"dd55b827ba26093c43756fc93e0a0468"},
    {t:"–†–∞–∑–≥–∏–±–∞–Ω–∏–µ —Ç—Ä–∏—Ü–µ–ø—Å–∞ –≤ –±–ª–æ–∫–µ (–∫–∞–Ω–∞—Ç)", base:"3√ó12‚Äì16", sets:3, id:"c3b414b47e814f390ffda4cd02019b4d"}
  ],
  2:[
    {t:"–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª—ë–∂–∞ –Ω–∞ –Ω–∞–∫–ª–æ–Ω–Ω–æ–π 45¬∞", base:"4√ó8‚Äì10", sets:4, id:"e585b41ea1a271381fb635e813257048"},
    {t:"–¢—è–≥–∞ –±–ª–æ–∫–∞ –æ–±—Ä–∞—Ç–Ω—ã–º —Ö–≤–∞—Ç–æ–º", base:"4√ó8‚Äì10", sets:4, id:"b705869d4680dfa63bfff8831610d191"},
    {t:"–†–∞–∑–≥–∏–±–∞–Ω–∏–µ –Ω–æ–≥ –≤ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–µ", base:"4√ó8‚Äì10", sets:4, id:"f9add4e54a65649c36dc96b40e31091e"},
    {t:"–°–≥–∏–±–∞–Ω–∏—è —Ä—É–∫ –≤ –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–µ (–±–∏—Ü–µ–ø—Å)", base:"3√ó12‚Äì16", sets:3, id:"87549fc5f5de396c2b769f8990778ede"},
    {t:"–†–∞–∑–≤–µ–¥–µ–Ω–∏—è –≥–∞–Ω—Ç–µ–ª–µ–π –≤ —Å—Ç–æ—Ä–æ–Ω—ã", base:"3√ó12‚Äì16", sets:3, id:"6128640e54d2e669a0279310980d65cc"},
    {t:"–û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö", base:"3√ó12‚Äì16", sets:3, id:"b8fac352889a4bd4c083d87dd4a1be10"}
  ],
  3:[
    {t:"–û—Ç–∂–∏–º–∞–Ω–∏—è —Å –Ω–æ–≥–∞–º–∏ –Ω–∞ –≤–æ–∑–≤—ã—à–µ–Ω–∏–∏", base:"4√ó–º–∞–∫—Å", sets:4, id:"8c3c63d02b943d3851527d03c5f0d70d"},
    {t:"–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª—ë–∂–∞ –Ω–∞ –ø–æ–ª—É", base:"3√ó8‚Äì12", sets:3, id:"8727ed482623ae3a9fce393d5456de68"},
    {t:"–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–µ–π –∫ –ø–æ—è—Å—É", base:"3√ó8‚Äì12", sets:3, id:"1816f401fa38ac77e8c912125728af74"},
    {t:"–£–∑–∫–∏–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è", base:"3√ó–º–∞–∫—Å", sets:3, id:"b968f2c89084c3d90b9add1da01cf39d"},
    {t:"–ü–æ–¥—ä—ë–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –±–∏—Ü–µ–ø—Å", base:"3√ó12", sets:3, id:"2b0ae567aa5d0a00633594f26fe8bf2e"},
    {t:"–†–∞–∑–≤–µ–¥–µ–Ω–∏—è –≤ –Ω–∞–∫–ª–æ–Ω–µ", base:"3√ó12‚Äì15", sets:3, id:"5bf13c73ef01f3a4629f00982b83788d"},
    {t:"–ü–ª–∞–Ω–∫–∞ —Å –∫–∞—Å–∞–Ω–∏–µ–º –ø–ª–µ—á", base:"3√ó40‚Äì60 —Å–µ–∫", sets:3, id:"6df677885d3361d1271228208387c6bd"}
  ]
};

// –ù–µ–¥–µ–ª–∏ (–¥–µ–ª–æ–∞–¥ ‚àí1 –ø–æ–¥—Ö–æ–¥)
const WEEKS = {
  1:{ add:0,  note:"RIR 1‚Äì2" },
  2:{ add:0,  note:"+5% –∏/–∏–ª–∏ +1, RIR 0‚Äì1" },
  3:{ add:0,  note:"+10% –∏/–∏–ª–∏ +1‚Äì2, RIR 0" },
  4:{ add:-1, note:"–î–µ–ª–æ–∞–¥ ‚àí10‚Äì20%, ‚àí1 –ø–æ–¥—Ö–æ–¥, RIR 2‚Äì3" }
};

/* ===== –£—Ç–∏–ª–∏—Ç—ã ===== */
const root = document.getElementById('root');
const weekSelect = document.getElementById('weekSelect');
const summary = document.getElementById('summary');
const weekSummary = document.getElementById('weekSummary');
let day = 1;
document.querySelectorAll('.tab').forEach(b=>b.onclick=()=>{document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));b.classList.add('active');day=+b.dataset.day;render();});
weekSelect.onchange = render;
if (window.Telegram?.WebApp) window.Telegram.WebApp.expand();
function today(){const d=new Date(),w=["–í—Å–∫","–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±"][d.getDay()],m=["—è–Ω–≤","—Ñ–µ–≤","–º–∞—Ä","–∞–ø—Ä","–º–∞–π","–∏—é–Ω","–∏—é–ª","–∞–≤–≥","—Å–µ–Ω","–æ–∫—Ç","–Ω–æ—è","–¥–µ–∫"][d.getMonth()];return `${d.getDate()} ${m}, ${w}`;}
function keyName(ex){ return `fb_${day}_${weekSelect.value}_${ex.replace(/\s+/g,'_')}`; }
function parseNum(v){ const n=parseFloat((v||"").toString().replace(",", ".")); return isNaN(n)?0:n; }

/* ===== –°—Ç—Ä–æ–∫–∞ –ø–æ–¥—Ö–æ–¥–∞ ===== */
function setRow(i,w='',r='',rir='',done=0){
  const el=document.createElement('div'); el.className='row'; el.innerHTML=`
    <div class="badge">${i}</div>
    <div class="input"><input type="number" step="0.5" inputmode="decimal" placeholder="–ö–ì" value="${w}"><span class="suffix"></span></div>
    <div class="input"><input type="number" step="1" inputmode="numeric" placeholder="—Ä–∞–∑" value="${r}"><span class="suffix"></span></div>
    <div class="input"><select aria-label="RIR">
      <option value="" ${rir===''?'selected':''}>RIR</option>
      <option value="0" ${rir==='0'?'selected':''}>0</option>
      <option value="1" ${rir==='1'?'selected':''}>1</option>
      <option value="2" ${rir==='2'?'selected':''}>2</option>
      <option value="3" ${rir==='3'?'selected':''}>3</option>
    </select></div>
    <label class="check" title="—Å–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω"><input type="checkbox" ${done? 'checked':''}></label>`;
  el.querySelectorAll('input,select').forEach(i=>i.addEventListener('input',updateSummary));
  return el;
}

/* ===== –ë–ª–æ–∫ —Ç–µ—Ö–Ω–∏–∫–∏ ===== */
function techBlock(name){
  const wrap=document.createElement('div'); wrap.className='techWrap';
  const btn=document.createElement('button'); btn.className='techBtn'; btn.type='button'; btn.textContent='–¢–µ—Ö–Ω–∏–∫–∞';
  const box=document.createElement('div'); box.className='tech';
  const tips=(TECH[name]||["–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏."]).map(t=>`<p>‚Ä¢ ${t}</p>`).join("");
  box.innerHTML=`<p><b>–ö–∞–∫ –¥–µ–ª–∞—Ç—å:</b></p>${tips}`;
  btn.onclick=()=>{ box.style.display = (box.style.display==='block'?'none':'block'); };
  wrap.appendChild(btn); wrap.appendChild(box);
  return wrap;
}

/* ===== –ö–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è ===== */
function card(ex){
  const saved = JSON.parse(localStorage.getItem(keyName(ex.t))||'[]');
  const add = WEEKS[weekSelect.value].add||0;
  const baseSets = Math.max(1, ex.sets + add);
  const last = JSON.parse(localStorage.getItem(keyName(ex.t)+'_last')||'[]');

  const wrap=document.createElement('section'); wrap.className='card'; wrap.dataset.exercise=ex.t;
  wrap.innerHTML=`
    <div class="head">
      <div class="left">
        <div class="thumb">üèãÔ∏è</div>
        <div>
          <div class="title">${ex.t}</div>
          <div class="meta">${ex.base} ‚Ä¢ ${WEEKS[weekSelect.value].note}</div>
          <div class="hint">${ last.length ? '–ü—Ä–æ—à–ª—ã–π —Ä–∞–∑: ' + last.map(s=>`${s.weight||0}√ó${s.reps||0}${s.rir!==''?` (RIR ${s.rir})`:''}`).join(', ') : '–ó–∞–ø–æ–ª–Ω–∏ –∏ –Ω–∞–∂–º–∏ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª'}</div>
        </div>
      </div>
      <div class="avatar">üë§</div>
    </div>
    <div class="video">${ex.id?`<iframe src="https://rutube.ru/play/embed/${ex.id}" allowfullscreen></iframe>`:''}</div>
    <div class="body">
      <div class="history">–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π:</div>
      <div class="date">${today()}</div>
      <div class="sets"></div>
      <div class="actions">
        <button class="btn add" type="button">+ –ü–æ–¥—Ö–æ–¥</button>
        <button class="btn del" type="button">‚àí –£–¥–∞–ª–∏—Ç—å</button>
      </div>
    </div>`;

  // —Ç–µ—Ö–Ω–∏–∫–∞
  wrap.querySelector('.body').insertBefore(techBlock(ex.t), wrap.querySelector('.actions'));

  const box=wrap.querySelector('.sets');
  const count = saved.length? saved.length : baseSets;
  for(let i=1;i<=count;i++){
    const s=saved[i-1]||{};
    box.appendChild(setRow(i,s.weight||'',s.reps||'', (s.rir??'').toString(), s.done?1:0));
  }

  wrap.querySelector('.add').onclick=()=>{ box.appendChild(setRow(box.children.length+1)); updateSummary(); };
  wrap.querySelector('.del').onclick=()=>{ if(box.children.length>1){ box.lastElementChild.remove(); updateSummary(); } };
  return wrap;
}

/* ===== –†–µ–Ω–¥–µ—Ä –∏ –∏—Ç–æ–≥–∏ ===== */
function render(){
  root.innerHTML='';
  PROGRAM[day].forEach(ex=> root.appendChild(card(ex)));
  updateSummary();
}

function updateSummary(){
  // –∏—Ç–æ–≥–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–∏–∑ —Ñ–æ—Ä–º—ã)
  let tonnage=0, setsDone=0;
  root.querySelectorAll('.card').forEach(card=>{
    card.querySelectorAll('.row').forEach(r=>{
      const [w,rp]=r.querySelectorAll('input');
      const weight=parseNum(w.value), reps=parseInt(rp.value||0,10);
      const done = r.querySelector('input[type="checkbox"]').checked;
      if(weight>0 && reps>0){
        tonnage += weight*reps;
        if(done) setsDone++;
      }
    });
  });
  summary.textContent = `–¢–æ–Ω–Ω–∞–∂: ${Math.round(tonnage)} –∫–≥ ‚Ä¢ –°–µ—Ç—ã (–≤—ã–ø.): ${setsDone}`;

  // –∏—Ç–æ–≥ –Ω–µ–¥–µ–ª–∏ ‚Äî –ø–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –≤—ã–±—Ä–∞–Ω–Ω–æ–π –Ω–µ–¥–µ–ª–∏ (–≤—Å–µ –¥–Ω–∏/—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è)
  let weekTonn=0, weekSets=0;
  Object.keys(localStorage).forEach(k=>{
    const m=k.match(/^fb_(\d+)_(\d+)_(.+)$/);
    if(!m) return;
    const wk = m[2];
    if(wk !== weekSelect.value) return;
    const arr = JSON.parse(localStorage.getItem(k)||'[]');
    arr.forEach(s=>{
      const w=parseNum(s.weight), r=parseInt(s.reps||0,10);
      if(w>0 && r>0){
        weekTonn += w*r;
        if(s.done) weekSets++;
      }
    });
  });
  document.getElementById('weekSummary').textContent =
    `–ò—Ç–æ–≥–æ –∑–∞ –Ω–µ–¥–µ–ª—é: ${Math.round(weekTonn)} –∫–≥ ‚Ä¢ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–µ—Ç–æ–≤: ${weekSets}`;
}

/* ===== –û—á–∏—Å—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ===== */
document.getElementById('clearBtn').onclick=()=>{
  if(!confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ø–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è?')) return;
  render(); // —á–∏—Å—Ç–∏–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â—É—é —Ñ–æ—Ä–º—É, –∏—Å—Ç–æ—Ä–∏—é –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
};

document.getElementById('saveBtn').onclick=()=>{
  const payload=[];
  root.querySelectorAll('.card').forEach(card=>{
    const name=card.dataset.exercise, list=[];
    card.querySelectorAll('.row').forEach((r,i)=>{
      const inputs=r.querySelectorAll('input');
      const w=inputs[0], rp=inputs[1], cb=inputs[2];
      const sel=r.querySelector('select');
      const weight=(w.value||'').trim(), reps=(rp.value||'').trim(), rir=(sel.value??'').toString(), done=cb.checked?1:0;
      if(weight || reps){
        const item={set:i+1, weight, reps, rir, done};
        list.push(item);
        payload.push({day, week:+weekSelect.value, exercise:name, ...item, ts:new Date().toISOString()});
      }
    });
    localStorage.setItem(keyName(name), JSON.stringify(list));
    if(list.length) localStorage.setItem(keyName(name)+'_last', JSON.stringify(list)); // –¥–ª—è ¬´–ü—Ä–æ—à–ª—ã–π —Ä–∞–∑¬ª
  });

  if(window.Telegram && window.Telegram.WebApp){
    window.Telegram.WebApp.sendData(JSON.stringify(payload));
    window.Telegram.WebApp.close();
  } else {
    alert('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ:\n'+JSON.stringify(payload,null,2));
  }
};

/* ===== –°—Ç–∞—Ä—Ç ===== */
render();
</script>
</body>
</html>